<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <!--! SEO & GEO OPTIMIZED META TAGS (VERIFIED) -->
    <title>Solve My Equation | The Ultimate Algebra & Equation Calculator with Steps</title>
    <meta name="description" content="Stuck on your math homework? Instantly solve linear, quadratic, and systems of equations with our free algebra calculator. Get detailed, step-by-step solutions to understand the process. Perfect for students and teachers.">
    <meta name="keywords" content="equation solver, algebra calculator, solve my equation, math problem solver, solve for x, quadratic formula, linear equations, systems of equations, step by step equation solver, algebra helper, math homework, free math solver, equation solver with steps">
    <meta name="author" content="All Tool AI"/>
    <link rel="canonical" href="https://www.alltoolai.com/" />
    
    <!-- FAVICON -->
    <link rel="icon" href="./assets/svg/logo.svg" type="image/svg+xml">

    <!-- Preconnect for Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <!-- Non-blocking load for Google Fonts stylesheet -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" />
    
    <!-- Optimized Non-blocking load for your Tailwind build -->
    <link rel="preload" href="./assets/style/style.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="./assets/style/style.css"></noscript>
    
    <script src="./assets/js/header.js" defer></script>
    <script src="./assets/js/footer.js" defer></script>
    <script src="./assets/js/main.js" defer></script>
</head>
<body class="bg-slate-200 font-sans text-slate-800 flex min-h-screen flex-col transition-colors duration-300 dark:bg-slate-900 dark:text-slate-200">

<div id="header-placeholder"></div>

<main class="flex-grow w-full">
    <div class="p-4 sm:p-6 mt-16 mx-auto">
        <div class="mb-4">
          <div id="topad-1" aria-label="Top Ad 1"></div>
        </div>

        <div class="lg:grid lg:grid-cols-[side_bar] lg:gap-4">

            <div class="min-w-0 overflow-hidden">
                <section class="bg-white p-4 sm:p-6 lg:p-8 rounded-2xl border border-indigo-300 dark:bg-slate-800 dark:border-slate-700">
                    <div class="text-center mb-8">
                        <h1 class="text-3xl lg:text-4xl font-extrabold bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 bg-clip-text text-transparent">Math Equation Solver</h1>
                        <p class="mt-2 text-lg text-slate-600 dark:text-slate-400">Solve linear, quadratic, or systems of equations instantly and see a full step-by-step breakdown of the solution.</p>
                    </div>
                    <div class="w-full max-w-2xl mx-auto space-y-6">
                        <div class="flex p-1 bg-slate-200 dark:bg-slate-900 rounded-lg">
                            <button id="single-equation-mode" class="w-1/2 py-2.5 px-4 text-lg font-medium rounded-md transition-colors bg-indigo-600 dark:bg-indigo-400 text-white">Single Equation</button>
                            <button id="system-equations-mode" class="w-1/2 py-2.5 px-4 ml-4 text-lg font-medium rounded-md transition-colors bg-slate-200 dark:bg-slate-700">System of Equations</button>
                        </div>

                        <div id="single-equation-container" class="section-container active">
                            <div class="input-group">
                                <input type="text" id="equation-input" placeholder="e.g., 2x^2 + 3x - 5 = 0" class="block w-full rounded-md border-0 py-2.5 px-3 bg-slate-200 text-slate-900 dark:bg-slate-700 dark:text-slate-200">
                            </div>
                            <div class="controls flex gap-4 mt-4">
                                <button id="solve-button" class="w-full sm:w-auto flex-grow text-white bg-indigo-600 hover:bg-indigo-700 font-semibold rounded-lg text-base px-5 py-3 transition-all dark:bg-indigo-500 dark:hover:bg-indigo-600">Solve Equation</button>
                                <button id="clear-button" class="w-full sm:w-auto bg-slate-200 hover:bg-slate-300 text-slate-800 font-semibold rounded-lg text-base px-5 py-3 transition-colors dark:bg-slate-600 dark:hover:bg-slate-500 dark:text-slate-200">Reset</button>
                            </div>
                            <div id="single-output" class="output-section mt-6"></div>
                        </div>

                        <div id="system-equations-container" class="section-container hidden">
                            <div id="system-equations-inputs" class="space-y-4">
                                <input type="text" id="equation1-input" placeholder="Equation 1: x + y = 5" class="block w-full rounded-md border-0 py-2.5 px-3 bg-slate-200 text-slate-900 dark:bg-slate-700 dark:text-slate-200">
                                <input type="text" id="equation2-input" placeholder="Equation 2: 2x - y = 4" class="block w-full rounded-md border-0 py-2.5 px-3 bg-slate-200 text-slate-900 dark:bg-slate-700 dark:text-slate-200">
                            </div>
                            <div class="controls flex gap-4 mt-4">
                                <button id="solve-system-button" class="w-full sm:w-auto flex-grow text-white bg-indigo-600 hover:bg-indigo-700 font-semibold rounded-lg text-base px-5 py-3 transition-all dark:bg-indigo-500 dark:hover:bg-indigo-600">Solve System</button>
                                <button id="clear-system-button" class="w-full sm:w-auto bg-slate-200 hover:bg-slate-300 text-slate-800 font-semibold rounded-lg text-base px-5 py-3 transition-colors dark:bg-slate-600 dark:hover:bg-slate-500 dark:text-slate-200">Reset</button>
                            </div>
                            <div id="system-output" class="output-section mt-6"></div>
                        </div>
                    </div>
                </section>

                <div class="my-4">
                    <div id="midad-1" aria-label="Mid Ad 1"></div>
                </div>
            </div>

            <aside class="hidden lg:flex flex-col">
              <div id="sidead-1" aria-label="Sidebar Ad 1"></div>
            </aside>

            <aside class="hidden lg:flex flex-col">
              <div id="sidead-2" aria-label="Sidebar Ad 2"></div>
            </aside>

        </div>

        <div class="mb-4">
          <div id="topad-2" aria-label="Top Ad 2"></div>
        </div>

    </div>
</main>

<!-- :: Footer PLACEHOLDER :: -->
<div id="footer-placeholder"></div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    // --- CALCULATOR DOM REFERENCES ---
    const modeButtons = {
        single: document.getElementById('single-equation-mode'),
        system: document.getElementById('system-equations-mode'),
    };
    const sections = {
        single: document.getElementById('single-equation-container'),
        system: document.getElementById('system-equations-container'),
    };
    const singleEquation = {
        input: document.getElementById('equation-input'),
        solveBtn: document.getElementById('solve-button'),
        clearBtn: document.getElementById('clear-button'),
        output: document.getElementById('single-output'),
    };
    const systemEquations = {
        input1: document.getElementById('equation1-input'),
        input2: document.getElementById('equation2-input'),
        solveBtn: document.getElementById('solve-system-button'),
        clearBtn: document.getElementById('clear-system-button'),
        output: document.getElementById('system-output'),
    };

    // --- MODE SWITCHER LOGIC ---
    if(modeButtons.single){
        modeButtons.single.addEventListener('click', () => switchMode('single'));
        modeButtons.system.addEventListener('click', () => switchMode('system'));
    }

    function switchMode(mode) {
        if (mode === 'single') {
            modeButtons.single.classList.add('bg-indigo-600', 'text-white', 'dark:bg-indigo-400');
            modeButtons.single.classList.remove('bg-slate-200', 'dark:bg-slate-700');
            modeButtons.system.classList.remove('bg-indigo-600', 'text-white', 'dark:bg-indigo-400');
            modeButtons.system.classList.add('bg-slate-200', 'dark:bg-slate-700');
            sections.single.classList.remove('hidden');
            sections.system.classList.add('hidden');
        } else {
            modeButtons.system.classList.add('bg-indigo-600', 'text-white', 'dark:bg-indigo-400');
            modeButtons.system.classList.remove('bg-slate-200', 'dark:bg-slate-700');
            modeButtons.single.classList.remove('bg-indigo-600', 'text-white', 'dark:bg-indigo-400');
            modeButtons.single.classList.add('bg-slate-200', 'dark:bg-slate-700');
            sections.system.classList.remove('hidden');
            sections.single.classList.add('hidden');
        }
        clearSingle();
        clearSystem();
    }

    // --- EVENT LISTENERS ---
    if (singleEquation.solveBtn) {
        singleEquation.solveBtn.addEventListener('click', solveSingleEquation);
        singleEquation.clearBtn.addEventListener('click', clearSingle);
        singleEquation.input.addEventListener('keydown', e => e.key === 'Enter' && solveSingleEquation());
    }
    if (systemEquations.solveBtn) {
        systemEquations.solveBtn.addEventListener('click', solveSystemOfEquations);
        systemEquations.clearBtn.addEventListener('click', clearSystem);
    }
    
    // --- UI CLEARING FUNCTIONS ---
    function clearSingle() {
        if (singleEquation.input) {
            singleEquation.input.value = '';
            singleEquation.output.innerHTML = '';
            singleEquation.output.classList.remove('show');
        }
    }

    function clearSystem() {
        if (systemEquations.input1) {
            systemEquations.input1.value = '';
            systemEquations.input2.value = '';
            systemEquations.output.innerHTML = '';
            systemEquations.output.classList.remove('show');
        }
    }

    // --- DISPLAY FUNCTIONS ---
    function displayOutput(element, title, steps, finalAnswer, isError = false) {
        let stepsHtml = steps ? `<div class="steps-container space-y-2">${steps.map(step => `<p class="p-2 rounded-md bg-slate-100 dark:bg-slate-700">${step}</p>`).join('')}</div>` : '';
        // FIX: Error messages are red, success has a blue background.
        const resultClass = isError ? 'text-red-500 text-lg' : 'bg-indigo-100 text-lg text-red-500 text-lg';
        
        element.innerHTML = `
            <div class="p-4 rounded-lg bg-slate-50 dark:bg-slate-800">
                <h3 class="text-lg font-bold mb-2 text-slate-800 dark:text-slate-200">${title}</h3>
                ${stepsHtml}
                <div class="final-answer mt-4 p-3 rounded-lg text-center font-semibold ${resultClass}">
                    ${finalAnswer}
                </div>
            </div>
        `;
        element.classList.add('show');
    }

    function displayError(element, message) {
        displayOutput(element, 'Error', null, message, true);
    }
    
    // --- SINGLE EQUATION SOLVER ---
    function solveSingleEquation() {
        const eq = singleEquation.input.value.trim();
        if (!eq) {
            displayError(singleEquation.output, "Please enter an equation.");
            return;
        }
        if ((eq.match(/=/g) || []).length !== 1) {
            displayError(singleEquation.output, "The equation must contain exactly one '=' sign.");
            return;
        }

        try {
            const { a, b, c } = parseSingleEquation(eq);
            if (a !== 0) solveQuadratic(a, b, c, eq);
            else if (b !== 0) solveLinear(b, c, eq);
            else {
                const steps = [`Original: <strong>${eq}</strong>`, `Simplified: <strong>${c} = 0</strong>`];
                if (c === 0) displayOutput(singleEquation.output, "Result", steps, 'This is a true statement (e.g., 0=0). Infinitely many solutions.');
                else displayOutput(singleEquation.output, "Result", steps, 'This is a false statement. No solution exists.');
            }
        } catch (err) {
            displayError(singleEquation.output, err.message);
        }
    }

    function parseSingleEquation(eq) {
        const cleanEq = eq.replace(/\s+/g, '').replace(/\^2/g, '²');
        let [lhs, rhs] = cleanEq.split('=');

        const getCoeffs = (side) => {
            const coeffs = { a: 0, b: 0, c: 0 };
            const terms = side.match(/([+-]?[0-9.]*x²)|([+-]?[0-9.]*x(?!²))|([+-]?[0-9.]+)/g) || [];
            
            for (let term of terms) {
                if (term.includes('x²')) {
                    let val = term.replace('x²', '');
                    if (val === '' || val === '+') coeffs.a += 1;
                    else if (val === '-') coeffs.a -= 1;
                    else coeffs.a += parseFloat(val);
                } else if (term.includes('x')) {
                    let val = term.replace('x', '');
                    if (val === '' || val === '+') coeffs.b += 1;
                    else if (val === '-') coeffs.b -= 1;
                    else coeffs.b += parseFloat(val);
                } else {
                    coeffs.c += parseFloat(term);
                }
            }
            return coeffs;
        };

        const l = getCoeffs(lhs);
        const r = getCoeffs(rhs);

        return { a: l.a - r.a, b: l.b - r.b, c: l.c - r.c };
    }

    function solveLinear(b, c, originalEq) {
        const x = -c / b;
        const steps = [
            `Original Equation: <strong>${originalEq}</strong>`,
            `Rearranged into standard form: <strong>${b}x + ${c} = 0</strong>`,
            `Isolate x: <strong>${b}x = ${-c}</strong>`,
            `Solve for x: <strong>x = ${-c} / ${b}</strong>`
        ];
        displayOutput(singleEquation.output, 'Linear Solution', steps, `Solution: x = ${Number(x.toFixed(4))}`);
    }

    function solveQuadratic(a, b, c, originalEq) {
        const steps = [
            `Original Equation: <strong>${originalEq}</strong>`,
            `Standard Form: <strong>${a}x² + ${b >= 0 ? '+' : ''} ${b}x + ${c >= 0 ? '+' : ''} ${c} = 0</strong>`,
            `Coefficients: <strong>a=${a}, b=${b}, c=${c}</strong>`
        ];

        const discriminant = b * b - 4 * a * c;
        steps.push(`Discriminant (Δ = b²-4ac): (${b})² - 4(${a})(${c}) = <strong>${discriminant}</strong>`);

        if (discriminant > 0) {
            steps.push("Δ > 0, indicating two distinct real roots.");
            const x1 = (-b + Math.sqrt(discriminant)) / (2 * a);
            const x2 = (-b - Math.sqrt(discriminant)) / (2 * a);
            displayOutput(singleEquation.output, 'Quadratic Solution', steps, `Two Real Solutions:<br>x₁ = ${x1.toFixed(4)}, x₂ = ${x2.toFixed(4)}`);
        } else if (discriminant === 0) {
            steps.push("Δ = 0, indicating one real root.");
            const x = -b / (2 * a);
            displayOutput(singleEquation.output, 'Quadratic Solution', steps, `One Real Solution:<br>x = ${x.toFixed(4)}`);
        } else {
            steps.push("Δ < 0, indicating two complex roots.");
            const realPart = -b / (2 * a);
            const imaginaryPart = Math.sqrt(-discriminant) / (2 * a);
            displayOutput(singleEquation.output, 'Quadratic Solution', steps, `Complex Solutions:<br>x₁ = ${realPart.toFixed(4)} + ${imaginaryPart.toFixed(4)}i<br>x₂ = ${realPart.toFixed(4)} - ${imaginaryPart.toFixed(4)}i`);
        }
    }

    // --- SYSTEM OF EQUATIONS SOLVER ---
    function solveSystemOfEquations() {
        try {
            const eq1Str = systemEquations.input1.value;
            const eq2Str = systemEquations.input2.value;
            if (!eq1Str || !eq2Str) throw new Error("Please enter both equations.");

            const c1 = parseSystemEquation(eq1Str);
            const c2 = parseSystemEquation(eq2Str);

            const steps = [
                `Equation 1: <strong>${c1.a}x + ${c1.b}y = ${c1.c}</strong>`,
                `Equation 2: <strong>${c2.a}x + ${c2.b}y = ${c2.c}</strong>`,
                `Solving using Cramer's Rule.`
            ];
            
            const D = c1.a * c2.b - c2.a * c1.b;
            steps.push(`Main Determinant D = (${c1.a})(${c2.b}) - (${c2.a})(${c1.b}) = <strong>${D}</strong>`);

            if (D !== 0) {
                const Dx = c1.c * c2.b - c2.c * c1.b;
                const Dy = c1.a * c2.c - c2.a * c1.c;
                steps.push(`Determinant Dx = (${c1.c})(${c2.b}) - (${c2.c})(${c1.b}) = <strong>${Dx}</strong>`);
                steps.push(`Determinant Dy = (${c1.a})(${c2.c}) - (${c2.a})(${c1.c}) = <strong>${Dy}</strong>`);
                const x = Dx / D;
                const y = Dy / D;
                steps.push(`x = Dx/D = ${x.toFixed(4)}, y = Dy/D = ${y.toFixed(4)}`);
                displayOutput(systemEquations.output, 'System Solution', steps, `Solution:<br>x = ${x.toFixed(4)}, y = ${y.toFixed(4)}`);
            } else {
                 if ((c1.c * c2.a === c2.c * c1.a) && (c1.c * c2.b === c2.c * c1.b)) {
                    steps.push("D = 0 and the lines are coincident.");
                    displayOutput(systemEquations.output, 'System Solution', steps, `Infinitely many solutions.`);
                } else {
                    steps.push("D = 0 and the lines are parallel and distinct.");
                    displayOutput(systemEquations.output, 'System Solution', steps, `No solution.`);
                }
            }
        } catch (err) {
            displayError(systemEquations.output, err.message);
        }
    }
    
    function parseSystemEquation(eq) {
        if ((eq.match(/=/g) || []).length !== 1) throw new Error("Each equation must have one '=' sign.");
        
        let [lhs, rhs] = eq.replace(/\s+/g, '').split('=');
        
        if (isNaN(parseFloat(rhs))) throw new Error(`The right side of the equation ('${rhs}') must be a number.`);
        const c = parseFloat(rhs);

        const terms = lhs.match(/[+-]?[^+-]+/g) || [];
        let a = 0, b = 0;
        
        for (let t of terms) {
            if (t.includes('x')) {
                let val = t.replace('x', '');
                if (val === '+' || val === '') a += 1;
                else if (val === '-') a -= 1;
                else a += parseFloat(val);
            } else if (t.includes('y')) {
                let val = t.replace('y', '');
                if (val === '+' || val === '') b += 1;
                else if (val === '-') b -= 1;
                else b += parseFloat(val);
            } else {
                throw new Error(`Invalid term '${t}'. Equations must be in the form 'ax + by = c'.`);
            }
        }
        return { a, b, c };
    }
});
</script>

</body>
</html>
