<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Smartphone Hover — 3D Tilt + Parallax</title>
  <meta name="description" content="Interactive smartphone mockup with 3D tilt, glow, and parallax icons on hover." />
  <style>
    :root{
      --bg-1:#0a0c10;
      --bg-2:#0e1420;
      --accent:#6366f1;
      --accent-2:#a78bfa;
      --glass:#0f172a;
      --bezel:#0b0f18;
      --screen:#0b1220;
      --text:#e5e7eb;
      --muted:#94a3b8;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial,Apple Color Emoji,Segoe UI Emoji;
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 50% 0%, rgba(99,102,241,.15), transparent 60%),
        linear-gradient(180deg, var(--bg-1), var(--bg-2));
      display:grid;
      place-items:center;
      overflow-x:hidden;
    }

    .wrap{
      width: min(92vw, 1100px);
      display:grid;
      grid-template-columns: 1fr;
      gap:28px;
      align-items:center;
      justify-items:center;
      padding:40px 16px;
    }
    .title{
      text-align:center;
      line-height:1.2;
    }
    .title h1{
      margin:0;
      font-size:clamp(24px, 4vw, 36px);
      font-weight:800;
      letter-spacing:.2px;
    }
    .title p{
      margin:6px 0 0 0;
      color:var(--muted);
      font-size:14px;
    }

    /* Stage gives perspective */
    .stage{
      perspective: 1400px;
      position:relative;
      isolation:isolate;
    }

    /* Soft glow behind the device that follows pointer (via CSS variables) */
    .stage::before{
      content:"";
      position:absolute;
      inset:auto;
      width:540px;
      height:340px;
      translate: calc(var(--glowX, 0px) - 270px) calc(var(--glowY, 0px) - 170px);
      background: radial-gradient(closest-side, rgba(99,102,241,.35), rgba(167,139,250,.18), transparent 70%);
      filter: blur(18px);
      opacity:.8;
      pointer-events:none;
      z-index:-1;
      transition: opacity .35s ease, transform .35s ease;
      transform: translateZ(0);
    }

    /* Phone container */
    .phone{
      width: 300px;
      height: 620px;
      border-radius: 36px;
      background: linear-gradient(135deg, #0f172a, #0b1120);
      padding: 12px;
      position:relative;
      box-shadow:
        0 30px 80px rgba(0,0,0,.55),
        inset 0 0 0 1px rgba(255,255,255,.06);
      transform-style: preserve-3d;
      will-change: transform, filter;
      transition: transform 600ms cubic-bezier(.2,.75,.2,1), filter 600ms ease;
    }
    .phone.is-leaving{
      transition: transform 700ms cubic-bezier(.16, 1, .3, 1);
    }

    /* Bezel */
    .bezel{
      position:relative;
      width: 100%;
      height: 100%;
      border-radius: 28px;
      background: linear-gradient(180deg, #0b0f18, #0a0d16);
      box-shadow:
        inset 0 0 0 2px rgba(255,255,255,.04),
        inset 0 0 20px rgba(0,0,0,.6);
      overflow:hidden;
      transform-style: preserve-3d;
    }

    /* Notch */
    .notch{
      position:absolute;
      top:6px; left:50%;
      width: 44%;
      height: 26px;
      translate:-50% 0;
      background:#060a12;
      border-bottom-left-radius: 16px;
      border-bottom-right-radius: 16px;
      box-shadow: 0 2px 8px rgba(0,0,0,.6), inset 0 -1px 0 rgba(255,255,255,.04);
      z-index:4;
      pointer-events:none;
      transform: translateZ(12px);
    }

    /* Screen */
    .screen{
      position:absolute;
      inset:8px;
      border-radius: 24px;
      background:
        radial-gradient(140% 70% at 30% 10%, rgba(99,102,241,.22), transparent 55%),
        radial-gradient(120% 80% at 80% 0%, rgba(167,139,250,.18), transparent 50%),
        linear-gradient(180deg, #0d1220, #0a0f1a 65%);
      overflow:hidden;
      transform-style: preserve-3d;
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.05);
    }

    /* Animated glare that follows cursor */
    .glare{
      position:absolute;
      inset:-20%;
      pointer-events:none;
      background:
        radial-gradient(45% 55% at var(--shineX, 50%) var(--shineY, 50%), rgba(255,255,255,.18), transparent 60%),
        radial-gradient(20% 25% at calc(var(--shineX, 50%) + 10%) calc(var(--shineY, 50%) + 8%), rgba(255,255,255,.08), transparent 58%);
      mix-blend-mode: screen;
      transform: translateZ(30px);
      transition: opacity .3s ease;
      opacity:.85;
    }

    /* Content layers for parallax */
    .content{
      position:absolute;
      inset:0;
      padding: 56px 18px 18px 18px;
      display:grid;
      grid-template-rows: auto 1fr auto;
      transform-style: preserve-3d;
    }
    .status{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 0 8px;
      color:#cbd5e1;
      font-size:12px;
      letter-spacing:.3px;
      transform: translateZ(22px);
      text-shadow: 0 1px 1px rgba(0,0,0,.5);
    }
    .status .time{
      font-weight:700;
      font-size:13px;
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap:12px;
      margin-top: 18px;
      padding: 0 4px;
    }

    .icon{
      aspect-ratio:1 / 1;
      border-radius: 18px;
      background:
        linear-gradient(135deg, rgba(255,255,255,.12), rgba(255,255,255,0) 40%),
        linear-gradient(180deg, rgba(255,255,255,.05), rgba(0,0,0,.2));
      box-shadow:
        inset 0 0 0 1px rgba(255,255,255,.06),
        0 6px 10px rgba(0,0,0,.35);
      position:relative;
      overflow:hidden;
      transform-style: preserve-3d;
      transition: transform .15s ease;
    }
    /* Icon color accents */
    .icon::before{
      content:"";
      position:absolute; inset:0;
      background:
        conic-gradient(from 180deg at 70% 30%,
          rgba(99,102,241,.45),
          rgba(167,139,250,.35),
          rgba(244,114,182,.35),
          rgba(34,197,94,.35),
          rgba(99,102,241,.45));
      mix-blend-mode: color;
      opacity:.7;
    }

    /* Dock */
    .dock{
      margin-top:auto;
      padding: 10px 10px 4px;
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap:12px;
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0));
      border-radius: 20px;
      transform: translateZ(18px);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.05);
    }

    /* Parallax depths */
    .depth-1{ transform: translateZ(10px); }
    .depth-2{ transform: translateZ(18px); }
    .depth-3{ transform: translateZ(26px); }
    .depth-4{ transform: translateZ(34px); }

    /* Hover “lift” for individual icons on fine pointers */
    @media (hover:hover) and (pointer:fine){
      .icon:hover{ transform: translateZ(16px) scale(1.03); }
    }

    /* Reduced motion: keep it static */
    @media (prefers-reduced-motion: reduce){
      .phone, .icon{ transition: none !important; }
      .glare{ display:none; }
      .stage::before{ opacity:0; }
    }

    /* Footer note */
    .note{
      text-align:center;
      color:var(--muted);
      font-size:12px;
      opacity:.9;
    }
    .note code{
      color:#c7d2fe;
      background:rgba(99,102,241,.12);
      padding:.1em .35em;
      border-radius:6px;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="title">
      <h1>Smartphone Hover — 3D Tilt + Parallax</h1>
      <p>Move your cursor over the phone to tilt it. Icons parallax and the screen glows.</p>
    </div>

    <div class="stage" id="stage">
      <div class="phone" id="phone" aria-label="Interactive smartphone preview" role="img">
        <div class="bezel">
          <div class="notch"></div>

          <div class="screen">
            <div class="glare"></div>

            <div class="content">
              <div class="status depth-2">
                <span class="time">9:41</span>
                <span>LTE • 100%</span>
              </div>

              <div class="grid depth-3">
                <div class="icon depth-1"></div>
                <div class="icon depth-1"></div>
                <div class="icon depth-1"></div>
                <div class="icon depth-1"></div>
                <div class="icon depth-2"></div>
                <div class="icon depth-2"></div>
                <div class="icon depth-2"></div>
                <div class="icon depth-2"></div>
                <div class="icon depth-3"></div>
                <div class="icon depth-3"></div>
                <div class="icon depth-3"></div>
                <div class="icon depth-3"></div>
              </div>

              <div class="dock">
                <div class="icon depth-4"></div>
                <div class="icon depth-4"></div>
                <div class="icon depth-4"></div>
                <div class="icon depth-4"></div>
              </div>
            </div>
          </div>
        </div> <!-- bezel -->
      </div> <!-- phone -->
    </div> <!-- stage -->

    <p class="note">
      Tip: On touch devices there’s no hover. For demo purposes this effect activates only on devices with <code>(hover: hover) and (pointer: fine)</code>.
    </p>
  </div>

  <script>
    (function(){
      const phone = document.getElementById('phone');
      const stage = document.getElementById('stage');
      const glare = phone.querySelector('.glare');

      const supportsHover = matchMedia('(hover:hover) and (pointer:fine)').matches;
      const reduceMotion = matchMedia('(prefers-reduced-motion: reduce)').matches;

      if (!supportsHover || reduceMotion) return;

      let bounds = null;
      let raf = null;
      let leaving = false;

      function clamp(n, min, max){ return Math.min(Math.max(n, min), max); }

      function setVars(x, y){
        // normalize to [-.5, .5]
        const nx = (x - bounds.left) / bounds.width - 0.5;
        const ny = (y - bounds.top) / bounds.height - 0.5;

        // rotation in degrees
        const rotY = clamp(nx * 30, -22, 22);   // left/right
        const rotX = clamp(-ny * 30, -22, 22);  // up/down (invert)

        // subtle shadow shift
        const shadowX = nx * 30;
        const shadowY = ny * 30;

        // glow and shine positions
        const glowX = bounds.left + (nx + 0.5) * bounds.width;
        const glowY = bounds.top + (ny + 0.5) * bounds.height;

        phone.style.transform = `rotateX(${rotX}deg) rotateY(${rotY}deg) translateZ(0)`;
        phone.style.filter = `drop-shadow(${shadowX}px ${shadowY}px 40px rgba(99,102,241,.25))`;

        // move background glow
        stage.style.setProperty('--glowX', glowX + 'px');
        stage.style.setProperty('--glowY', glowY + 'px');

        // move on-screen glare highlight (percent coords inside screen)
        const shineX = clamp((nx + .5) * 100, 0, 100);
        const shineY = clamp((ny + .5) * 100, 0, 100);
        glare.style.setProperty('--shineX', `${shineX}%`);
        glare.style.setProperty('--shineY', `${shineY}%`);

        // parallax: translate content layers based on depth classes
        // Scale movement per depth
        const moveX = nx * 18; // px
        const moveY = ny * 18;
        phone.querySelectorAll('.depth-1,.depth-2,.depth-3,.depth-4').forEach(el=>{
          const d = el.classList.contains('depth-4') ? 4 :
                    el.classList.contains('depth-3') ? 3 :
                    el.classList.contains('depth-2') ? 2 : 1;
          const k = d * 0.6; // multiplier per depth
          el.style.transform = `translateZ(${8 + d*8}px) translate(${moveX * k}px, ${moveY * k}px)`;
        });
      }

      function onMove(e){
        if (!bounds) bounds = phone.getBoundingClientRect();
        const x = e.clientX ?? (e.touches && e.touches[0].clientX);
        const y = e.clientY ?? (e.touches && e.touches[0].clientY);
        if (typeof x !== 'number' || typeof y !== 'number') return;

        if (raf) cancelAnimationFrame(raf);
        raf = requestAnimationFrame(()=> setVars(x, y));
      }

      function onEnter(e){
        bounds = phone.getBoundingClientRect();
        phone.classList.remove('is-leaving');
        // small “pop” on enter
        phone.style.transition = 'transform 250ms cubic-bezier(.2,.75,.2,1), filter 250ms ease';
        phone.style.transform += ' scale3d(1.015,1.015,1.015)';
        setTimeout(()=> phone.style.transition = 'transform 600ms cubic-bezier(.2,.75,.2,1), filter 600ms ease', 260);
      }

      function onLeave(){
        leaving = true;
        phone.classList.add('is-leaving');
        phone.style.transform = 'rotateX(0) rotateY(0)';
        phone.style.filter = 'drop-shadow(0px 10px 40px rgba(0,0,0,.45))';
        // reset parallax layers
        phone.querySelectorAll('.depth-1,.depth-2,.depth-3,.depth-4').forEach(el=>{
          el.style.transform = `translateZ(${8 + (el.classList.contains('depth-4')?32:el.classList.contains('depth-3')?24:el.classList.contains('depth-2')?16:8)}px) translate(0,0)`;
        });
        // fade glow center
        stage.style.setProperty('--glowX', (window.innerWidth/2)+'px');
        stage.style.setProperty('--glowY', '20vh');
        leaving = false;
      }

      // Events (pointer-only on fine pointers)
      phone.addEventListener('pointerenter', onEnter);
      phone.addEventListener('pointermove', onMove);
      phone.addEventListener('pointerleave', onLeave);

      // Initialize glow to center
      stage.style.setProperty('--glowX', (window.innerWidth/2)+'px');
      stage.style.setProperty('--glowY', '20vh');

      // Resize observer to refresh bounds
      window.addEventListener('resize', ()=> { bounds = phone.getBoundingClientRect(); }, { passive:true });
      window.addEventListener('scroll', ()=> { bounds = phone.getBoundingClientRect(); }, { passive:true });
    })();
  </script>
</body>
</html>
